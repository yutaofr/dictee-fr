<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Simulateur de dict√©e pour le Brevet 2026 ‚Äî Entra√Ænez-vous avec des textes de niveau 3√®me et une lecture TTS fid√®le au protocole officiel.">
  <title>Dict√©e Brevet 2026 ‚Äî Simulateur d'examen</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- ========== HEADER ========== -->
  <header id="app-header">
    <div class="header-inner">
      <div class="logo">
        <span class="logo-icon">üìù</span>
        <div>
          <h1>Dict√©e Brevet 2026</h1>
          <p class="subtitle">Simulateur d'examen ‚Äî Fran√ßais 3√®me</p>
        </div>
      </div>
      <nav id="main-nav">
        <button class="nav-btn active" data-section="accueil" id="nav-accueil">
          <span class="nav-icon">üè†</span> Accueil
        </button>
        <button class="nav-btn" data-section="examen" id="nav-examen" disabled>
          <span class="nav-icon">üéß</span> Examen
        </button>
        <button class="nav-btn" data-section="correction" id="nav-correction" disabled>
          <span class="nav-icon">‚úÖ</span> Correction
        </button>
      </nav>
    </div>
  </header>

  <!-- ========== SECTION: ACCUEIL ========== -->
  <main>
    <section id="section-accueil" class="section active">
      <div class="container">
        <div class="welcome-card glass">
          <h2>Bienvenue dans le simulateur de dict√©e</h2>
          <p>Pr√©parez-vous √† l'√©preuve de dict√©e du Brevet des coll√®ges. Choisissez un sujet ci-dessous pour commencer une simulation fid√®le au protocole officiel.</p>
          <div class="protocol-info">
            <div class="protocol-step">
              <span class="step-number">1</span>
              <div>
                <strong>Lecture int√©grale</strong>
                <p>√âcoutez le texte sans √©crire. Comprenez le sens g√©n√©ral.</p>
              </div>
            </div>
            <div class="protocol-step">
              <span class="step-number">2</span>
              <div>
                <strong>Dict√©e</strong>
                <p>Le texte est lu phrase par phrase. Chaque groupe est lu deux fois.</p>
              </div>
            </div>
            <div class="protocol-step">
              <span class="step-number">3</span>
              <div>
                <strong>Relecture</strong>
                <p>Derni√®re √©coute compl√®te. Relisez et corrigez votre copie.</p>
              </div>
            </div>
          </div>
        </div>

        <h3 class="section-title">Choisissez votre dict√©e</h3>
        <div id="dictee-grid" class="dictee-grid">
          <!-- Rendered by JS -->
        </div>
      </div>
    </section>

    <!-- ========== SECTION: EXAMEN ========== -->
    <section id="section-examen" class="section">
      <div class="container">
        <!-- Phase indicator bar -->
        <div id="phase-bar" class="phase-bar glass">
          <div class="phase-info">
            <span id="phase-icon" class="phase-icon">üîä</span>
            <div>
              <h2 id="phase-title">Lecture int√©grale</h2>
              <p id="phase-description">√âcoutez attentivement sans √©crire.</p>
            </div>
          </div>
          <div class="phase-progress">
            <div class="phase-dots">
              <span class="phase-dot active" data-phase="lecture1" title="Lecture int√©grale"></span>
              <span class="phase-dot" data-phase="dictee" title="Dict√©e"></span>
              <span class="phase-dot" data-phase="relecture" title="Relecture"></span>
            </div>
            <span id="phase-counter" class="phase-counter"></span>
          </div>
        </div>

        <!-- Current word highlight -->
        <div id="current-word-display" class="current-word-display glass" style="display: none;">
          <span id="current-word-label" class="current-word-label">Groupe actuel :</span>
          <p id="current-word-text" class="current-word-text"></p>
          <span id="repeat-indicator" class="repeat-indicator"></span>
        </div>

        <!-- TTS Voice selector -->
        <div id="voice-selector" class="voice-selector glass">
          <label for="voice-select">Voix :</label>
          <select id="voice-select"></select>
          <label for="speed-range" class="speed-label">Vitesse :</label>
          <input type="range" id="speed-range" min="0.5" max="1.2" step="0.05" value="0.9">
          <span id="speed-value">0.9√ó</span>
        </div>

        <!-- Controls -->
        <div class="exam-controls">
          <button id="btn-start" class="btn btn-primary btn-large">
            <span>‚ñ∂Ô∏è</span> Commencer la dict√©e
          </button>
          <button id="btn-skip-lecture-intro" class="btn btn-outline" style="display:none;">
            <span>‚è≠Ô∏è</span> Passer l'introduction
          </button>
          <button id="btn-skip-pregen" class="btn btn-outline" style="display:none;">
            <span>‚è≠Ô∏è</span> Passer la pr√©-g√©n√©ration
          </button>
          <button id="btn-pause" class="btn btn-secondary" style="display:none;">
            <span>‚è∏Ô∏è</span> Pause
          </button>
          <button id="btn-resume" class="btn btn-primary" style="display:none;">
            <span>‚ñ∂Ô∏è</span> Reprendre
          </button>
          <button id="btn-skip-phase" class="btn btn-outline" style="display:none;">
            <span>‚è≠Ô∏è</span> Phase suivante
          </button>
          <button id="btn-finish" class="btn btn-accent" style="display:none;">
            <span>‚úÖ</span> Passer √† la correction
          </button>
        </div>

        <!-- Writing area (during dict√©e phase) -->
        <div id="writing-area" class="writing-area" style="display:none;">
          <h3>Votre dict√©e</h3>
          <p class="hint">√âcrivez ici pendant la phase de dict√©e. Prenez votre temps.</p>
          <textarea id="student-text" placeholder="Commencez √† √©crire ici..." rows="12"></textarea>
        </div>

        <!-- Timer -->
        <div id="timer-display" class="timer-display" style="display:none;">
          <span id="timer-icon">‚è±Ô∏è</span>
          <span id="timer-text">00:00</span>
        </div>
      </div>
    </section>

    <!-- ========== SECTION: CORRECTION ========== -->
    <section id="section-correction" class="section">
      <div class="container">
        <div class="correction-header glass">
          <h2>üìã Correction guid√©e</h2>
          <p id="correction-dictee-title"></p>
        </div>

        <!-- Tab switcher for correction views -->
        <div class="correction-tabs">
          <button class="tab-btn active" data-tab="comparaison" id="tab-comparaison">Comparaison</button>
          <button class="tab-btn" data-tab="regles" id="tab-regles">R√®gles de grammaire</button>
          <button class="tab-btn" data-tab="prononciation" id="tab-prononciation">Prononciation</button>
        </div>

        <!-- Tab: Comparaison -->
        <div id="tab-content-comparaison" class="tab-content active">
          <div class="comparison-panel">
            <div class="comparison-col">
              <h3>üìù Votre texte</h3>
              <div id="student-text-display" class="text-display student-text-box"></div>
            </div>
            <div class="comparison-col">
              <h3>‚úÖ Texte original</h3>
              <div id="original-text-display" class="text-display original-text-box"></div>
            </div>
          </div>
          <div id="diff-results" class="diff-results glass">
            <h3>R√©sultat</h3>
            <div id="diff-score" class="diff-score"></div>
            <div id="diff-details" class="diff-details"></div>
          </div>
        </div>

        <!-- Tab: R√®gles -->
        <div id="tab-content-regles" class="tab-content">
          <div id="rules-list" class="rules-list"></div>
        </div>

        <!-- Tab: Prononciation -->
        <div id="tab-content-prononciation" class="tab-content">
          <div class="prononciation-intro glass">
            <p>Cliquez sur n'importe quel mot du texte pour l'entendre prononc√©. Les mots difficiles sont mis en √©vidence.</p>
          </div>
          <div id="prononciation-text" class="prononciation-text"></div>
          <div id="word-info-panel" class="word-info-panel glass" style="display:none;">
            <h4 id="word-info-title"></h4>
            <p id="word-info-content"></p>
            <button id="btn-hear-word" class="btn btn-small btn-primary">üîä R√©√©couter</button>
          </div>
        </div>

        <!-- Back button -->
        <div class="correction-actions">
          <button id="btn-new-dictee" class="btn btn-primary btn-large">
            <span>üîÑ</span> Nouvelle dict√©e
          </button>
        </div>
      </div>
    </section>
  </main>

  <!-- ========== FOOTER ========== -->
  <footer>
    <p>Dict√©e Brevet 2026 ‚Äî Outil de pr√©paration pour les √©l√®ves de 3√®me</p>
  </footer>

  <script src="dictees.js"></script>
  <script src="app.js"></script>
</body>
</html>
